```html
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Emberwing — prototype</title>
  <style>
    html, body { margin: 0; background: #000; overflow: hidden; }
    canvas { display: block; }
  </style>
</head>
<body>
<canvas id="c"></canvas>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

// ---------- Stars (parallax) ----------
const stars = [];
function makeStars() {
  stars.length = 0;
  const count = Math.floor((canvas.width * canvas.height) / 6500);
  for (let i = 0; i < count; i++) {
    stars.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      z: 0.25 + Math.random() * 1.0,   // depth
      r: 0.2 + Math.random() * 1.6     // radius
    });
  }
}
makeStars();
window.addEventListener("resize", makeStars);

function moveStars(dt, shipAngle, shipSpeed) {
  // move background opposite ship motion
  const vx = Math.cos(shipAngle) * shipSpeed;
  const vy = Math.sin(shipAngle) * shipSpeed;
  for (const s of stars) {
    s.x -= vx * (0.55 / s.z) * dt * 60;
    s.y -= vy * (0.55 / s.z) * dt * 60;

    if (s.x < 0) s.x += canvas.width;
    if (s.x > canvas.width) s.x -= canvas.width;
    if (s.y < 0) s.y += canvas.height;
    if (s.y > canvas.height) s.y -= canvas.height;
  }
}

// ---------- Ship (ember) ----------
let x = canvas.width / 2;
let y = canvas.height / 2;
let angle = -Math.PI / 2;

const baseSpeed = 2.2;
const boostSpeed = 4.2;
let speed = baseSpeed;

const turnRate = 0.055;

// ---------- Arrow Keys ONLY ----------
const arrows = { ArrowLeft:false, ArrowRight:false, ArrowUp:false };

window.addEventListener("keydown", (e) => {
  if (e.key in arrows) {
    arrows[e.key] = true;
    e.preventDefault();
  }
});

window.addEventListener("keyup", (e) => {
  if (e.key in arrows) {
    arrows[e.key] = false;
    e.preventDefault();
  }
});

// ---------- Ember trail ----------
const trail = [];
const sparks = [];

function spawnTrail(boosting) {
  const backX = x - Math.cos(angle) * 10;
  const backY = y - Math.sin(angle) * 10;

  trail.push({
    x: backX + (Math.random() - 0.5) * 2,
    y: backY + (Math.random() - 0.5) * 2,
    vx: (Math.random() - 0.5) * 0.25,
    vy: (Math.random() - 0.5) * 0.25,
    life: 1.0,
    size: 10 + Math.random() * 12,
    heat: 0.7 + Math.random() * 0.3
  });

  const sparkChance = boosting ? 0.65 : 0.35;
  if (Math.random() < sparkChance) {
    sparks.push({
      x: backX,
      y: backY,
      vx: -Math.cos(angle) * (0.8 + Math.random() * 1.8) + (Math.random() - 0.5) * 0.7,
      vy: -Math.sin(angle) * (0.8 + Math.random() * 1.8) + (Math.random() - 0.5) * 0.7,
      life: 0.55 + Math.random() * 0.35,
      size: 1 + Math.random() * 1.6
    });
  }
}

function updateParticles(dt) {
  for (let i = trail.length - 1; i >= 0; i--) {
    const p = trail[i];
    p.x += p.vx * 60 * dt;
    p.y += p.vy * 60 * dt;
    p.life -= 1.8 * dt;
    p.size *= (1 - 0.55 * dt);
    if (p.life <= 0 || p.size < 0.6) trail.splice(i, 1);
  }

  for (let i = sparks.length - 1; i >= 0; i--) {
    const s = sparks[i];
    s.x += s.vx * 60 * dt;
    s.y += s.vy * 60 * dt;
    s.vx *= (1 - 0.8 * dt);
    s.vy *= (1 - 0.8 * dt);
    s.life -= 2.6 * dt;
    if (s.life <= 0) sparks.splice(i, 1);
  }
}

function wrap() {
  if (x < 0) x = canvas.width;
  if (x > canvas.width) x = 0;
  if (y < 0) y = canvas.height;
  if (y > canvas.height) y = 0;
}

// ---------- Update / Draw ----------
let last = performance.now();

function update(dt) {
  // Turning (arrow keys)
  if (arrows.ArrowLeft) angle -= turnRate;
  if (arrows.ArrowRight) angle += turnRate;

  // Boost (ArrowUp)
  const boosting = arrows.ArrowUp;
  speed = boosting ? boostSpeed : baseSpeed;

  // Move forward
  x += Math.cos(angle) * speed;
  y += Math.sin(angle) * speed;
  wrap();

  // Background motion
  moveStars(dt, angle, speed);

  // Trail
  spawnTrail(boosting);
  if (boosting) spawnTrail(true);

  updateParticles(dt);
}

function drawStars() {
  ctx.save();
  for (const s of stars) {
    ctx.globalAlpha = 0.25 + 0.6 * (1 - s.z);
    ctx.fillStyle = "#fff";
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.r * (1.2 - s.z), 0, Math.PI * 2);
    ctx.fill();
  }
  ctx.restore();
}

function drawTrail() {
  // warm ember haze
  for (const p of trail) {
    const a = Math.max(0, p.life);
    const g = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.size);
    g.addColorStop(0.0, `rgba(255, 245, 220, ${0.28 * a})`);
    g.addColorStop(0.25, `rgba(255, 170, 60, ${0.24 * a * p.heat})`);
    g.addColorStop(0.55, `rgba(255, 90, 20, ${0.16 * a * p.heat})`);
    g.addColorStop(1.0, `rgba(0, 0, 0, 0)`);
    ctx.fillStyle = g;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
    ctx.fill();
  }

  // sparks
  ctx.save();
  for (const s of sparks) {
    const a = Math.max(0, s.life);
    ctx.globalAlpha = 0.9 * a;
    ctx.fillStyle = "rgba(255,210,120,1)";
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
    ctx.fill();
  }
  ctx.restore();
}

function drawEmberShip() {
  ctx.save();
  ctx.translate(x, y);
  ctx.rotate(angle);

  // halo glow
  const halo = ctx.createRadialGradient(0, 0, 0, 0, 0, 26);
  halo.addColorStop(0.0, "rgba(255,240,200,0.35)");
  halo.addColorStop(0.35, "rgba(255,140,40,0.20)");
  halo.addColorStop(0.75, "rgba(255,60,20,0.10)");
  halo.addColorStop(1.0, "rgba(0,0,0,0)");
  ctx.fillStyle = halo;
  ctx.beginPath();
  ctx.arc(0, 0, 26, 0, Math.PI * 2);
  ctx.fill();

  // core ember
  const core = ctx.createRadialGradient(0, 0, 0, 0, 0, 9);
  core.addColorStop(0.0, "rgba(255,255,235,0.95)");
  core.addColorStop(0.35, "rgba(255,210,120,0.90)");
  core.addColorStop(0.7, "rgba(255,120,40,0.75)");
  core.addColorStop(1.0, "rgba(255,40,20,0.0)");
  ctx.fillStyle = core;
  ctx.beginPath();
  ctx.arc(0, 0, 9, 0, Math.PI * 2);
  ctx.fill();

  // tiny wing hint (still ember-first)
  ctx.strokeStyle = "rgba(255,255,255,0.35)";
  ctx.lineWidth = 1.5;
  ctx.beginPath();
  ctx.moveTo(10, 0);
  ctx.lineTo(-6, -4);
  ctx.moveTo(10, 0);
  ctx.lineTo(-6, 4);
  ctx.stroke();

  // forward point
  ctx.fillStyle = "rgba(255,255,255,0.45)";
  ctx.beginPath();
  ctx.arc(10, 0, 1.6, 0, Math.PI * 2);
  ctx.fill();

  ctx.restore();
}

function drawUI() {
  ctx.save();
  ctx.font = "12px ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace";
  ctx.fillStyle = "rgba(255,255,255,0.75)";
  ctx.fillText("EMBERWING — prototype", 16, 22);
  ctx.fillStyle = "rgba(255,255,255,0.55)";
  ctx.fillText("← / → turn    ↑ boost", 16, 40);
  ctx.restore();
}

function loop(now) {
  const dt = Math.min((now - last) / 1000, 0.033);
  last = now;

  update(dt);

  ctx.fillStyle = "#000";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  drawStars();
  drawTrail();
  drawEmberShip();
  drawUI();

  requestAnimationFrame(loop);
}

requestAnimationFrame(loop);
</script>
</body>
</html>
```
