```html
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Emberwing — prototype</title>
  <style>
    html, body { margin: 0; background: #000; overflow: hidden; }
    canvas { display: block; }
  </style>
</head>
<body>
<canvas id="c"></canvas>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

// --- Stars (parallax) ---
const stars = [];
function makeStars() {
  stars.length = 0;
  const count = Math.floor((canvas.width * canvas.height) / 6000); // scales with screen
  for (let i = 0; i < count; i++) {
    stars.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      z: Math.random() * 1 + 0.25,     // depth factor
      r: Math.random() * 1.5 + 0.2     // size
    });
  }
}
makeStars();
window.addEventListener("resize", makeStars);

// --- Ship (an ember) ---
let x = canvas.width / 2;
let y = canvas.height / 2;
let angle = -Math.PI / 2;

let baseSpeed = 2.2;
let speed = baseSpeed;
let turnRate = 0.055;

// --- Input ---
const keys = {};
window.addEventListener("keydown", e => keys[e.key] = true);
window.addEventListener("keyup", e => keys[e.key] = false);

// --- Ember trail particles ---
const trail = [];
const sparks = [];

function spawnTrail() {
  // A warm ember smear behind the ship
  const backX = x - Math.cos(angle) * 10;
  const backY = y - Math.sin(angle) * 10;

  trail.push({
    x: backX + (Math.random() - 0.5) * 2,
    y: backY + (Math.random() - 0.5) * 2,
    vx: (Math.random() - 0.5) * 0.25,
    vy: (Math.random() - 0.5) * 0.25,
    life: 1.0,
    size: 10 + Math.random() * 10,
    heat: 0.7 + Math.random() * 0.3
  });

  // occasional sparks
  if (Math.random() < 0.35) {
    const s = 1 + Math.random() * 1.5;
    sparks.push({
      x: backX,
      y: backY,
      vx: -Math.cos(angle) * (0.6 + Math.random() * 1.4) + (Math.random() - 0.5) * 0.6,
      vy: -Math.sin(angle) * (0.6 + Math.random() * 1.4) + (Math.random() - 0.5) * 0.6,
      life: 0.6 + Math.random() * 0.35,
      size: s
    });
  }
}

function updateParticles(dt) {
  for (let i = trail.length - 1; i >= 0; i--) {
    const p = trail[i];
    p.x += p.vx * 60 * dt;
    p.y += p.vy * 60 * dt;
    p.life -= 1.8 * dt;
    p.size *= (1 - 0.55 * dt);
    if (p.life <= 0 || p.size < 0.5) trail.splice(i, 1);
  }

  for (let i = sparks.length - 1; i >= 0; i--) {
    const s = sparks[i];
    s.x += s.vx * 60 * dt;
    s.y += s.vy * 60 * dt;
    s.vx *= (1 - 0.8 * dt);
    s.vy *= (1 - 0.8 * dt);
    s.life -= 2.6 * dt;
    if (s.life <= 0) sparks.splice(i, 1);
  }
}

// --- Helpers ---
function wrap() {
  if (x < 0) x = canvas.width;
  if (x > canvas.width) x = 0;
  if (y < 0) y = canvas.height;
  if (y > canvas.height) y = 0;
}

function updateStars(dt) {
  // Move stars opposite ship movement for motion feel
  const vx = Math.cos(angle) * speed;
  const vy = Math.sin(angle) * speed;

  for (const s of stars) {
    s.x -= vx * (0.55 / s.z) * dt * 60;
    s.y -= vy * (0.55 / s.z) * dt * 60;

    if (s.x < 0) s.x += canvas.width;
    if (s.x > canvas.width) s.x -= canvas.width;
    if (s.y < 0) s.y += canvas.height;
    if (s.y > canvas.height) s.y -= canvas.height;
  }
}

let last = performance.now();

function update(dt) {
  // Turn: arrows
  if (keys["ArrowLeft"]) angle -= turnRate;
  if (keys["ArrowRight"]) angle += turnRate;

  // Speed: hold Up to boost (more sparks)
  const boosting = !!keys["ArrowUp"];
  speed = boosting ? 4.2 : baseSpeed;

  // Move forward
  x += Math.cos(angle) * speed;
  y += Math.sin(angle) * speed;
  wrap();

  // Background motion
  updateStars(dt);

  // Trail
  spawnTrail();
  if (boosting) spawnTrail();

  updateParticles(dt);
}

function drawStars() {
  ctx.save();
  ctx.globalAlpha = 0.9;
  for (const s of stars) {
    ctx.globalAlpha = 0.25 + 0.6 * (1 - s.z);
    ctx.fillStyle = "#fff";
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.r * (1.2 - s.z), 0, Math.PI * 2);
    ctx.fill();
  }
  ctx.restore();
}

function drawTrail() {
  // Soft ember haze
  for (const p of trail) {
    const a = Math.max(0, p.life);
    const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.size);

    // ember color stack: hot core -> orange -> smoke
    grad.addColorStop(0.0, `rgba(255, 245, 220, ${0.28 * a})`);
    grad.addColorStop(0.25, `rgba(255, 170, 60, ${0.24 * a * p.heat})`);
    grad.addColorStop(0.55, `rgba(255, 90, 20, ${0.16 * a * p.heat})`);
    grad.addColorStop(1.0, `rgba(0, 0, 0, 0)`);

    ctx.fillStyle = grad;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
    ctx.fill();
  }

  // Sparks: tiny bright points
  ctx.save();
  for (const s of sparks) {
    const a = Math.max(0, s.life);
    ctx.globalAlpha = 0.9 * a;
    ctx.fillStyle = "rgba(255,210,120,1)";
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
    ctx.fill();
  }
  ctx.restore();
}

function drawEmberShip() {
  // Ember "core" + halo + tiny wing suggestion
  ctx.save();
  ctx.translate(x, y);
  ctx.rotate(angle);

  // Halo (soft glow)
  const halo = ctx.createRadialGradient(0, 0, 0, 0, 0, 26);
  halo.addColorStop(0.0, "rgba(255,240,200,0.35)");
  halo.addColorStop(0.35, "rgba(255,140,40,0.20)");
  halo.addColorStop(0.75, "rgba(255,60,20,0.10)");
  halo.addColorStop(1.0, "rgba(0,0,0,0)");
  ctx.fillStyle = halo;
  ctx.beginPath();
  ctx.arc(0, 0, 26, 0, Math.PI * 2);
  ctx.fill();

  // Core ember (bright)
  const core = ctx.createRadialGradient(0, 0, 0, 0, 0, 9);
  core.addColorStop(0.0, "rgba(255,255,235,0.95)");
  core.addColorStop(0.35, "rgba(255,210,120,0.90)");
  core.addColorStop(0.7, "rgba(255,120,40,0.75)");
  core.addColorStop(1.0, "rgba(255,40,20,0.0)");
  ctx.fillStyle = core;
  ctx.beginPath();
  ctx.arc(0, 0, 9, 0, Math.PI * 2);
  ctx.fill();

  // Tiny “wing” silhouette (subtle, so it still feels like an ember)
  ctx.strokeStyle = "rgba(255,255,255,0.35)";
  ctx.lineWidth = 1.5;
  ctx.beginPath();
  ctx.moveTo(10, 0);
  ctx.lineTo(-6, -4);
  ctx.moveTo(10, 0);
  ctx.lineTo(-6, 4);
  ctx.stroke();

  // Forward point (just a hint)
  ctx.fillStyle = "rgba(255,255,255,0.45)";
  ctx.beginPath();
  ctx.arc(10, 0, 1.6, 0, Math.PI * 2);
  ctx.fill();

  ctx.restore();
}

function drawUI() {
  ctx.save();
  ctx.font = "12px ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace";
  ctx.fillStyle = "rgba(255,255,255,0.75)";
  ctx.fillText("EMBERWING — prototype", 16, 22);
  ctx.fillStyle = "rgba(255,255,255,0.55)";
  ctx.fillText("← / → turn    ↑ boost", 16, 40);
  ctx.restore();
}

function loop(now) {
  const dt = Math.min((now - last) / 1000, 0.033);
  last = now;

  update(dt);

  ctx.clearRect(0, 0, canvas.width, canvas.height);
  // background
  ctx.fillStyle = "#000";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  drawStars();
  drawTrail();
  drawEmberShip();
  drawUI();

  requestAnimationFrame(loop);
}

requestAnimationFrame(loop);
</script>
</body>
</html>
```
